{"version":3,"sources":["UI/Header.module.css","components/Cart/CartBookItem.module.css","components/Orders/OrderItem.module.css","UI/OrderModal.module.css","pages/Cart.module.css","store/newCart-context.js","UI/Header.js","UI/LoadingIndicator.js","UI/ErrorModal.js","store/favorites-context.js","store/cartPrices-context.js","components/Books/BookItem.js","components/Books/BooksList.js","store/allBooks-context.js","pages/AllBooks.js","components/AddNewBookForm.js","pages/AddNewBook.js","components/Cart/CartBookItem.js","components/Cart/CartItemsList.js","components/Cart/CartContainer.js","UI/OrderSuccessModal.js","UI/OrderModal.js","pages/Cart.js","pages/FavoritesBooks.js","components/Books/Book.js","components/Orders/OrderItem.js","components/Orders/OrderList.js","pages/Orders.js","App.js","index.js"],"names":["module","exports","NewCartContext","createContext","booksInCart","totalBooksInCart","totalPriceOfBooks","addBook","book","increaseBook","bookId","newBook","decreaseBook","deleteBook","clearCart","setBooksInCart","books","NewCartContextProvider","props","useState","setTotalCartPrices","tPrices","map","totalPrice","push","context","length","reduce","a","b","prevBooks","id","filter","updNewBook","pcs","price","concat","prev","Provider","value","children","Header","nav","times","bars","allBooksLi","addNewBookLi","favoritesBookLi","classes","addNewBook","favorites","allBooks","setAllBooks","setAddNewBook","favoritesBook","setFavoritesBook","navMenu","setNavMenu","closeIcon","setCloseIcon","barsIcon","setBarsIcon","newCartCtx","useContext","timesClose","className","header","style","textAlign","padding","backgroundColor","href","rel","target","onClick","to","badge","console","log","navMobile","timesOpen","barsClose","displayUnset","LoadingIndicator","ErrorModal","React","memo","Fragment","onClose","type","FavoritesContext","favoriteBooks","totalFavoriteBooks","addtoFavoriteBook","deleteFromFavoriteBook","isFavorite","FavoritesContextProvider","favoritesBooks","setFavoritesBooks","some","CartPricesContext","prices","totalPrices","addtoPrices","deleteFromPrices","setTotalPrice","CartPricesContextProvider","setPrices","decreasePrices","priceM","prevPrices","splice","prevPrice","BookItem","favoritesCtx","cartPricesCtx","newCartContext","isInNewCart","title","author","src","photo","alt","description","key","addToCartHandler","onDel","BooksList","deleteHandler","display","flexWrap","justifyContent","AllBooksContext","totalBooks","AllBooksContextProvider","allbooks","AllBooks","allBooksCtx","error","setError","isLoading","setIsLoading","loadedBooks","setLoadedBooks","useEffect","fetch","then","response","json","result","catch","minHeight","color","updatedBooks","AddNewBookForm","navigate","useNavigate","enteredTitle","setEnteredTitle","enteredAuthor","setEnteredAuthor","enteredPrice","setEnteredPrice","enteredPhoto","setEnteredPhoto","inputTitle","useRef","inputAuthor","inputPrice","inputPhoto","onSubmit","event","preventDefault","onAddBook","replace","htmlFor","ref","onChange","step","AddNewBook","height","bookTitle","bookAuthor","bookPrice","bookPhoto","NewBook","method","body","JSON","stringify","err","CartBookItem","cartTotalPriceCtx","newcCartCtx","amountValue","setAmountValue","bookFieldPrice","setBookFieldPrice","totalCartBookPrice","setTotalCartBookPrice","amountInput","section","about","actions","input","current","min","max","e","toFixed","CartItemsList","cartBooks","CartContainer","cartBook","OrderSuccessModal","OrderModal","orderSuccess","setOrderSuccess","random","Number","Math","toString","substring","cartPrice","closeOrderSuccessModalHandler","totalCartPrice","pop","backdrop","total","totalprice","order","setOrder","container","noitems","clear","FavoritesBooks","favoriteCtx","cartCtx","CartContext","cartValue","Book","params","useParams","alllBooksCtx","bookData","find","OrderItem","firebaseKey","Object","keys","orderNumber","delete","Onclose","deletehandler","OrderList","deleteOrderHandler","OnDelete","fontSize","getKey","Orders","loadedOrders","setLoadedOrders","getOrders","values","ordersWithKeys","prop","prevorders","inCardState","cardReducer","state","action","App","useReducer","cart","dispatchCart","cartDispatch","path","element","Cart","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab3ce898.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__TkoI2\",\"nav\":\"Header_nav__3_g2N\",\"allBooks\":\"Header_allBooks__1_EDZ\",\"favorites\":\"Header_favorites__3NFtm\",\"addNewBook\":\"Header_addNewBook__2_b5K\",\"bars\":\"Header_bars__1b59L\",\"barsClose\":\"Header_barsClose__3qE17\",\"timesClose\":\"Header_timesClose__2xExF\",\"timesOpen\":\"Header_timesOpen__1tqqp\",\"badge\":\"Header_badge__3dj7m\",\"navMobile\":\"Header_navMobile__1URuy\",\"displayUnset\":\"Header_displayUnset__zL-BA\",\"displayNone\":\"Header_displayNone__3Oveg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"CartBookItem_section__kb1V-\",\"about\":\"CartBookItem_about__3epLK\",\"title\":\"CartBookItem_title__3zHig\",\"author\":\"CartBookItem_author__l7V61\",\"price\":\"CartBookItem_price__2-rVU\",\"photo\":\"CartBookItem_photo__JjjrZ\",\"actions\":\"CartBookItem_actions__FCBHT\",\"input\":\"CartBookItem_input__Nmltd\",\"total\":\"CartBookItem_total__ciVFU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"OrderItem_container__RCoUc\",\"orderNumber\":\"OrderItem_orderNumber__1_LYB\",\"order\":\"OrderItem_order__1pV8Q\",\"title\":\"OrderItem_title__1OlYd\",\"pcs\":\"OrderItem_pcs__fzT-b\",\"price\":\"OrderItem_price__3H8_-\",\"totalPrice\":\"OrderItem_totalPrice__2u6KP\",\"delete\":\"OrderItem_delete__38L5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"OrderModal_backdrop__29Tmq\",\"error-modal\":\"OrderModal_error-modal__1zWqY\",\"title\":\"OrderModal_title__3Canf\",\"book\":\"OrderModal_book__1CVWr\",\"total\":\"OrderModal_total__2z26i\",\"actions\":\"OrderModal_actions__33GKp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cart_container__2JBbs\",\"noitems\":\"Cart_noitems__QjQHy\",\"total\":\"Cart_total__3jTVT\",\"order\":\"Cart_order__L2Rfc\",\"clear\":\"Cart_clear__3d4br\"};","import { createContext, useState } from \"react\";\n\nconst NewCartContext = createContext({\n  booksInCart: [],\n  totalBooksInCart: 0,\n  totalPriceOfBooks: 0,\n  addBook: (book) => {},\n  increaseBook: (bookId, newBook) => {},\n  decreaseBook: (bookId, newBook) => {},\n  deleteBook: (bookId) => {},\n  clearCart: () => {},\n  setBooksInCart: (books) => {},\n});\n\nexport const NewCartContextProvider = (props) => {\n  const [booksInCart, setBooksInCart] = useState([]);\n  const [totalCartPrices, setTotalCartPrices] = useState([]);\n  const tPrices = booksInCart.map((book) => book.totalPrice);\n\n\n  const addHandler = (book) => {\n    setBooksInCart((prevBooks) => {\n      return [book, ...prevBooks];\n    });\n  };\n\n  const deleteHandler = (bookId) => {\n    setBooksInCart((prevBooks) => {\n      return prevBooks.filter((book) => book.id !== bookId);\n    });\n  };\n  const totalPrices = [];\n\n  const totalPrice = booksInCart.map((book) => book.totalPrice);\n  totalPrices.push(totalPrice);\n\n  const increaseBookHandler = (bookId, newBook) => {\n    if (booksInCart.map((book) => book.id === bookId)) {\n      const newBook = booksInCart.filter((book) => book.id === bookId);\n\n      const updNewBook = {\n        pcs: (newBook[0].pcs = newBook[0].pcs + 1),\n        totalPrice: (newBook[0].totalPrice = newBook[0].pcs * newBook[0].price),\n        ...newBook[0],\n      };\n      setTotalCartPrices(updNewBook.totalPrice);\n\n      booksInCart.filter((book) => book.id !== bookId);\n      booksInCart.concat(updNewBook);\n    }\n  };\n\n  const decreaseBookHandler = (bookId, newBook) => {\n    if (booksInCart.map((book) => book.id === bookId)) {\n      const newBook = booksInCart.filter((book) => book.id === bookId);\n\n      const updNewBook = {\n        pcs: (newBook[0].pcs = newBook[0].pcs - 1),\n        totalPrice: (newBook[0].totalPrice = newBook[0].pcs * newBook[0].price),\n        ...newBook[0],\n      };\n\n      setTotalCartPrices(updNewBook.totalPrice);\n\n      booksInCart.filter((book) => book.id !== bookId);\n      booksInCart.concat(updNewBook);\n    }\n  };\n  const clearCartHandler = () => {\n    return setBooksInCart([]);\n  };\n  // const increasePriceOfBookHamdler = (bookId) => {};\n\n  const setBooksInCartHandler = (books) => {\n    setBooksInCart((prev) => {\n      return (prev = books);\n    });\n  };\n\n  const context = {\n    booksInCart: booksInCart,\n    totalBooksInCart: booksInCart.length,\n    totalPriceOfBooks: tPrices.reduce((a, b) => a + b, 0),\n    addBook: addHandler,\n    increaseBook: increaseBookHandler,\n    decreaseBook: decreaseBookHandler,\n    deleteBook: deleteHandler,\n    clearCart: clearCartHandler,\n    setBooksInCart: setBooksInCartHandler,\n  };\n\n  return (\n    <NewCartContext.Provider value={context}>\n      {props.children}\n    </NewCartContext.Provider>\n  );\n};\n\nexport default NewCartContext;\n","import { useContext, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport classes from \"./Header.module.css\";\nimport { FaBars } from \"react-icons/fa\";\nimport { FaTimes } from \"react-icons/fa\";\n\nimport NewCartContext from \"../store/newCart-context\";\n\nconst Header = () => {\n  let nav;\n  let times;\n  let bars;\n  let allBooksLi;\n  let addNewBookLi;\n  let favoritesBookLi;\n  addNewBookLi = classes.addNewBook;\n  favoritesBookLi = classes.favorites;\n\n  const [allBooks, setAllBooks] = useState(allBooksLi);\n  const [addNewBook, setAddNewBook] = useState(addNewBookLi);\n  const [favoritesBook, setFavoritesBook] = useState(favoritesBookLi);\n  const [navMenu, setNavMenu] = useState(nav);\n  const [closeIcon, setCloseIcon] = useState(times);\n  const [barsIcon, setBarsIcon] = useState(bars);\n  const newCartCtx = useContext(NewCartContext);\n\n  nav = classes.nav;\n  times = classes.timesClose;\n  bars = classes.bars;\n\n  const mobileMenuHandler = () => {\n    console.log(\"clicked\");\n    nav = classes.navMobile;\n    times = classes.timesOpen;\n    bars = classes.barsClose;\n    allBooksLi = classes.displayUnset;\n    addNewBookLi = classes.displayUnset;\n    favoritesBookLi = classes.displayUnset;\n    setNavMenu(nav);\n    setCloseIcon(times);\n    setBarsIcon(bars);\n    setAllBooks(allBooksLi);\n    setAddNewBook(addNewBookLi);\n    setFavoritesBook(favoritesBookLi);\n  };\n\n  const closeIconHandler = () => {\n    times = classes.timesClose;\n    nav = classes.nav;\n    // addNewBookLi = classes.addNewBook;\n    // favoritesBookLi = classes.favorites;\n    setCloseIcon(times);\n    setNavMenu(nav);\n    setBarsIcon(bars);\n    setAllBooks(allBooksLi);\n    setAddNewBook(addNewBookLi);\n    setFavoritesBook(favoritesBookLi);\n  };\n\n  return (\n    <header className={classes.header}>\n      <div\n        style={{\n          textAlign: \"center\",\n          padding: \"10px\",\n          backgroundColor: \"orange\",\n        }}\n      >\n        Currently in development <a\n          href=\"https://github.com/Dmytro-Lysenko/Book-Store-App\"\n          rel=\"noreferrer\"\n          target=\"_blank\"\n        >\n           Source code\n        </a>\n      </div>\n      <nav>\n        <ul className={!navMenu ? nav : navMenu}>\n          <li\n            onClick={closeIconHandler}\n            className={!closeIcon ? times : closeIcon}\n          >\n            <FaTimes />\n          </li>\n          <li className={!allBooks ? allBooksLi : allBooks}>\n            <Link to=\"/Book-Store-App/\">All books</Link>\n          </li>\n          <li className={favoritesBook}>\n            <Link to=\"/Book-Store-App/favorites\"> Favorites</Link>\n          </li>\n          <li>\n            <Link to=\"/Book-Store-App/cart\">Cart</Link>\n            <span className={classes.badge}>\n              {newCartCtx.booksInCart ? newCartCtx.booksInCart.length : \"\"}\n            </span>\n          </li>\n          <li className={addNewBook}>\n            <Link to=\"/Book-Store-App/add-new-book\">Add new book</Link>\n          </li>\n          <li>\n            <Link to=\"/Book-Store-App/orders\">Orders</Link>\n          </li>\n          <li\n            onClick={mobileMenuHandler}\n            className={!barsIcon ? bars : barsIcon}\n          >\n            <FaBars />\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\n\nimport './LoadingIndicator.css';\n\nconst LoadingIndicator = () => (\n  <div className=\"lds-ring\">\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\n\nexport default LoadingIndicator;","\nimport React from 'react';\n\nimport './ErrorModal.css';\n\nconst ErrorModal = React.memo(props => {\n  return (\n    <React.Fragment>\n      <div className=\"backdrop\" onClick={props.onClose} />\n      <div className=\"error-modal\">\n        <h2>An Error Occurred!</h2>\n        <p>{props.children}</p>\n        <div className=\"error-modal__actions\">\n          <button type=\"button\" onClick={props.onClose}>\n            Close\n          </button>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n});\n\nexport default ErrorModal;","import { createContext, useState } from \"react\";\n\nconst FavoritesContext = createContext({\n  favoriteBooks: [],\n  totalFavoriteBooks: 0,\n  addtoFavoriteBook: (book) => {},\n  deleteFromFavoriteBook: (bookId) => {},\n  isFavorite: (bookId) => {},\n});\n\nexport const FavoritesContextProvider = (props) => {\n  const [favoritesBooks, setFavoritesBooks] = useState([]);\n\n  const addHandler = (book) => {\n    setFavoritesBooks((prevBooks) => {\n      return [...prevBooks, book];\n    });\n  };\n\n  const deleteHandler = (bookId) => {\n    setFavoritesBooks((prevBooks) => {\n      return prevBooks.filter((book) => book.id !== bookId);\n    });\n  };\n\n  const isFavoriteHandler = (bookId) => {\n    return favoritesBooks.some((book) => book.id === bookId);\n  };\n\n  const context = {\n    favoriteBooks: favoritesBooks,\n    totalFavoriteBooks: favoritesBooks.length,\n    addtoFavoriteBook: addHandler,\n    deleteFromFavoriteBook: deleteHandler,\n    isFavorite: isFavoriteHandler,\n  };\n\n  return (\n    <FavoritesContext.Provider value={context}>\n      {props.children}\n    </FavoritesContext.Provider>\n  );\n};\n\nexport default FavoritesContext;\n","import { createContext, useState } from \"react\";\n\nconst CartPricesContext = createContext({\n  prices: [],\n  totalPrices: 0,\n  addtoPrices: (price) => {},\n  deleteFromPrices: (price) => {},\n  setTotalPrice: (price) => {},\n});\n\nexport const CartPricesContextProvider = (props) => {\n  const [prices, setPrices] = useState([]);\n\n  const setHandler = (price) => {\n    setPrices((prevPrice) => {\n      return prevPrice.concat(price);\n    });\n  };\n\n  const decreaseHandler = (priceM) => {\n    setPrices((prevPrices) => {\n      return (prevPrices = prices.splice(0, prices.length, ...priceM));\n    });\n  };\n\n  const context = {\n    prices: prices,\n    totalPrices: prices.reduce((a, b) => a + b, 0),\n    decreasePrices: decreaseHandler,\n    setTotalPrice: setHandler,\n  };\n\n  return (\n    <CartPricesContext.Provider value={context}>\n      {props.children}\n    </CartPricesContext.Provider>\n  );\n};\n\nexport default CartPricesContext;\n","import \"./BookItem.css\";\nimport FavoritesContext from \"../../store/favorites-context\";\nimport CartPricesContext from \"../../store/cartPrices-context\";\nimport { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport NewCartContext from \"../../store/newCart-context\";\n\nconst BookItem = (props) => {\n  const favoritesCtx = useContext(FavoritesContext);\n  const cartPricesCtx = useContext(CartPricesContext);\n\n  const newCartContext = useContext(NewCartContext);\n\n  const isFavorite = favoritesCtx.isFavorite(props.id);\n\n  const isInNewCart =\n    newCartContext.booksInCart &&\n    newCartContext.booksInCart.some((book) => book.id === props.id);\n\n  const addToCartHandler = (newBook) => {\n    const updNewBook = {\n      key: newBook.id,\n      pcs: 1,\n      totalPrice: +newBook.price,\n      price: +newBook.price,\n      ...newBook,\n    };\n\n    newCartContext.addBook(updNewBook);\n    if (isInNewCart) {\n      newCartContext.deleteBook(newBook.id);\n    }\n\n    cartPricesCtx.setTotalPrice(+props.price);\n  };\n\n  const addHandler = (book) => {\n    if (isFavorite) {\n      favoritesCtx.deleteFromFavoriteBook(props.id);\n    } else {\n      favoritesCtx.addtoFavoriteBook(book);\n    }\n  };\n\n  const deleteHandler = (bookId) => {\n    props.onDel(bookId);\n  };\n\n  return (\n    <section className=\"section\">\n      <h1 className=\"title\">{props.title}</h1>\n      <h2 className=\"author\">{props.author}</h2>\n\n      <Link to={`books/${props.id}`}>\n        <div className=\"photo\">\n          <img src={props.photo} alt={props.title} />\n        </div>\n      </Link>\n      <h3 className=\"price\">{props.price} $</h3>\n      <p>{props.description}</p>\n      <div className=\"actions\">\n        <button\n          onClick={() => {\n            addHandler(props);\n          }}\n        >\n          {!isFavorite ? \"Add to favorite\" : \"Remove from favorites\"}\n        </button>\n        <button onClick={() => addToCartHandler(props)}>\n          {!isInNewCart ? \"Add to cart\" : \"Delete from cart\"}\n        </button>\n        <button onClick={() => deleteHandler(props.id)}>Delete</button>\n      </div>\n    </section>\n  );\n};\nexport default BookItem;\n","import BookItem from \"./BookItem\";\n\nconst BooksList = (props) => {\n\n  if (!props.allBooks) {\n    return <h1>NoALlbiiks</h1>;\n  }\n\n  const deleteHandler =(bookId)=> {\n    props.onDel(bookId)\n  };\n  return (\n    <div\n      style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"center\" }}\n    >\n      {props.allBooks.map((book) => (\n        <BookItem\n          key={book.id}\n          title={book.title}\n          author={book.author}\n          price={+book.price}\n          photo={book.photo}\n          id={book.id}\n          onDel={deleteHandler}\n        />\n      ))}\n    </div>\n  );\n};\nexport default BooksList;\n","import { createContext, useState } from \"react\";\n\nconst AllBooksContext = createContext({\n  allBooks: [],\n  totalBooks: 0,\n  deleteBook: (bookId) => {},\n});\n\nexport const AllBooksContextProvider = (props) => {\n  const [allbooks, setAllBooks] = useState([]);\n\n  const deleteHandler = (bookId) => {\n    setAllBooks((prevBooks) => {\n      return prevBooks.filter((book) => book.id !== bookId);\n    });\n  };\n\n  const context = {\n    allbooks: allbooks,\n    totalBooks: allbooks.length,\n    deleteBook: deleteHandler,\n  };\n\n  return (\n    <AllBooksContext.Provider value={context}>\n      {props.children}\n    </AllBooksContext.Provider>\n  );\n};\n\nexport default AllBooksContext;\n","import { useContext, useEffect, useState } from \"react\";\nimport LoadingIndicator from \"../UI/LoadingIndicator\";\nimport ErrorModal from \"../UI/ErrorModal\";\nimport BooksList from \"../components/Books/BooksList\";\nimport AllBooksContext from \"../store/allBooks-context\";\n\nconst AllBooks = () => {\n  const allBooksCtx = useContext(AllBooksContext);\n  const [error, setError] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadedBooks, setLoadedBooks] = useState([]);\n  const [allBooks, setAllBooks] = useState(allBooksCtx.allBooks);\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(\n      \"https://react-app-81b61-default-rtdb.europe-west1.firebasedatabase.app/books.json\"\n    )\n      .then((response) => response.json())\n      .then((result) => {\n        setIsLoading(false);\n        const allBooks = [];\n\n        for (const key in result) {\n          const newBook = {\n            id: key,\n            ...result[key],\n          };\n          allBooks.push(newBook);\n        }\n\n        setLoadedBooks(allBooks);\n        setAllBooks((prev) => {\n          return (prev = allBooks);\n        });\n      })\n      .catch((error) => {\n        setError(\"Something went wrong\");\n      });\n  }, []);\n\n  const closeErrorModalHandler = () => {\n    setIsLoading(false);\n    setError(null);\n  };\n\n  const deleteBookHandler = (bookId) => {\n    const updatedBooks = allBooksCtx.allBooks.filter((book) => book.id !== bookId);\n    setLoadedBooks(updatedBooks)\n  };\n\n  allBooksCtx.allBooks = loadedBooks;\n\n  return (\n    <div style={{ backgroundColor: \"#c0e1d6\", minHeight: \"100vh\" }}>\n      {error && (\n        <ErrorModal onClose={closeErrorModalHandler}>{error}</ErrorModal>\n      )}\n      <h1 style={{ color: \"blue\", textAlign: \"center\", padding: \"2rem\" }}>\n        All books\n      </h1>\n      {isLoading && <LoadingIndicator />}\n      <BooksList allBooks={loadedBooks} onDel={deleteBookHandler} />\n    </div>\n  );\n};\n\nexport default AllBooks;\n","import { useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport './AddNewBookForm.css'\n\nconst AddNewBookForm = (props) => {\n  let navigate = useNavigate();\n  const [enteredTitle, setEnteredTitle] = useState(\"\");\n  const [enteredAuthor, setEnteredAuthor] = useState(\"\");\n  const [enteredPrice, setEnteredPrice] = useState(\"\");\n  const [enteredPhoto, setEnteredPhoto] = useState(\"\");\n\n  const inputTitle = useRef();\n  const inputAuthor = useRef();\n  const inputPrice = useRef();\n  const inputPhoto = useRef();\n\n  const SubmitHandler = (event) => {\n    event.preventDefault();\n    props.onAddBook(enteredTitle, enteredAuthor, enteredPrice, enteredPhoto);\n    setEnteredTitle(\"\");\n    setEnteredAuthor(\"\");\n    setEnteredPrice(\"\");\n    setEnteredPhoto(\"\");\n    navigate(\"/\", { replace: true });\n  };\n\n  const nameChangeHandler = (event) => {\n    setEnteredTitle(event.target.value);\n  \n  };\n  const authorChangeHandler = (event) => {\n    setEnteredAuthor(event.target.value);\n  };\n  const priceChangeHandler = (event) => {\n    setEnteredPrice(event.target.value);\n  };\n  const photoChangeHandler = (event) => {\n    setEnteredPhoto(event.target.value);\n  };\n\n  return (\n    <form className=\"form\" onSubmit={SubmitHandler}>\n      <div className=\"control\">\n        <label htmlFor=\"title\">Title</label>\n        <input\n          value={enteredTitle}\n          type=\"text\"\n          id=\"title\"\n          ref={inputTitle}\n          onChange={nameChangeHandler}\n        />\n      </div>\n      <div className=\"control\" >\n        <label htmlFor=\"author\">Author</label>\n        <input\n          value={enteredAuthor}\n          type=\"text\"\n          id=\"author\"\n          ref={inputAuthor}\n          onChange={authorChangeHandler}\n        />\n      </div>\n      <div className=\"control\" >\n        <label htmlFor=\"price\">Price</label>\n        <input\n          value={enteredPrice}\n          type=\"number\"\n          id=\"price\"\n          ref={inputPrice}\n          step=\"0.01\"\n          onChange={priceChangeHandler}\n        />\n      </div>\n      <div className=\"control\" >\n        <label htmlFor=\"photo\">Photo</label>\n        <input\n          value={enteredPhoto}\n          type=\"url\"\n          id=\"photo\"\n          ref={inputPhoto}\n          onChange={photoChangeHandler}\n        />\n      </div>\n      <div className=\"action\">\n      <button type=\"submit\">Add book</button>\n      </div>\n    </form>\n  );\n};\nexport default AddNewBookForm;\n","import AddNewBookForm from \"../components/AddNewBookForm\";\n\nconst AddNewBook = () => {\n  const onAddBookHandler = (bookTitle, bookAuthor, bookPrice, bookPhoto) => {\n\n    const NewBook = {\n      title: bookTitle,\n      author: bookAuthor,\n      price: bookPrice,\n      photo: bookPhoto,\n      pcs: 1,\n      totalPrice: bookPrice,\n    };\n\n    fetch(\n      \"https://react-app-81b61-default-rtdb.europe-west1.firebasedatabase.app/books.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(NewBook),\n      }\n    ).catch((err) => {\n      console.error(err);\n    });\n  };\n\n  return (\n    <div style={{ backgroundColor: \"#c0e1d6\", height: \"100vh\" }} >\n      <h1 style={{ color: \"blue\", textAlign: \"center\", padding: \"2rem\" }}>\n        Add new book\n      </h1>\n      <AddNewBookForm onAddBook={onAddBookHandler} />\n    </div>\n  );\n};\n\nexport default AddNewBook;\n","import { useState, useRef } from \"react\";\nimport { useContext } from \"react\";\nimport CartPricesContext from \"../../store/cartPrices-context\";\nimport NewCartContext from \"../../store/newCart-context\";\n\nimport classes from \"./CartBookItem.module.css\";\n\nconst CartBookItem = (props) => {\n  const cartTotalPriceCtx = useContext(CartPricesContext);\n  const newcCartCtx = useContext(NewCartContext);\n\n\n  const [amountValue, setAmountValue] = useState(1);\n\n  const [bookFieldPrice, setBookFieldPrice] = useState(+props.price);\n  const [totalCartBookPrice, setTotalCartBookPrice] = useState(\n    newcCartCtx.totalPriceOfBooks\n  );\n\n  const amountInput = useRef();\n  cartTotalPriceCtx.totalPrices = bookFieldPrice;\n\n  const decreaseHandler = (event) => {\n    const enteredAmount = amountInput.current.value;\n    if (1 < enteredAmount) {\n      setAmountValue((prev) => {\n        return amountValue - 1;\n      });\n      setTotalCartBookPrice(totalCartBookPrice - props.price);\n      setBookFieldPrice((prev) => {\n        return (prev = bookFieldPrice - props.price);\n      });\n\n      newcCartCtx.decreaseBook(props.id, props);\n    } else {\n      console.log(\"MENSHE 1\");\n    }\n    \n  };\n\n  const increaseHandler = (event) => {\n  \n    const enteredAmount = +amountInput.current.value;\n\n \n\n    if (enteredAmount < 11) {\n      setAmountValue((prev) => {\n        return amountValue + 1;\n      });\n      setTotalCartBookPrice(totalCartBookPrice + props.price);\n\n      setBookFieldPrice((prev) => {\n        return (prev = +props.price + bookFieldPrice);\n      });\n\n      newcCartCtx.increaseBook(props.id, props);\n\n    }\n  };\n\n  return (\n    <div>\n      <section className={classes.section}>\n        <div className={classes.photo}>\n          <img src={props.photo} alt={props.title} />\n        </div>\n        <div className={classes.about}>\n          <h1 className={classes.title}>{props.title}</h1>\n          <h2 className={classes.author}>{props.author}</h2>\n          <h3 className={classes.price}>Book price: {props.price} $</h3>\n        </div>\n        <div className={classes.actions}>\n          <div className={classes.input}>\n            <span onClick={decreaseHandler}>-</span>\n            <input\n              id=\"book\"\n              type=\"number\"\n              // defaultValue=\"1\"\n              min=\"1\"\n              max=\"9\"\n              step=\"1\"\n              ref={amountInput}\n              value={amountValue}\n              onChange={(e)=> setAmountValue(e.target.value)}\n            />\n            <span onClick={increaseHandler}>+</span>\n          </div>\n          <h1>{bookFieldPrice.toFixed(2)}</h1>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default CartBookItem;\n","import CartBookItem from \"./CartBookItem\";\n\nconst CartItemsList = (props) => {\n \n  // console.log(\"This is cartList item\", props);\n  // console.log(\"This is cartList item\", props.cartBooks);\n  return (\n    <div>\n      {props.cartBooks.map((book) => (\n        <CartBookItem\n          key={book.id}\n          title={book.title}\n          author={book.author}\n          price={+book.price}\n          photo={book.photo}\n          id={book.id}\n          pcs={book.pcs}\n          totalPrice={+book.totalPrice}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default CartItemsList;\n","import CartItemsList from \"./CartItemsList\";\n\nconst CartContainer = (props) => {\n  return (\n    <div>\n      <div>\n        <h1 style={{ color: \"blue\", textAlign: \"center\", padding: \"2rem\" }}>\n          Cart Items\n        </h1>\n        <CartItemsList cartBooks={props.cartBook} />\n      </div>\n    </div>\n  );\n};\nexport default CartContainer;\n","import React from \"react\";\nimport { useNavigate } from \"react-router\";\n\nimport \"./ErrorModal.css\";\n\nconst OrderSuccessModal = React.memo((props) => {\n  const navigate = useNavigate();\n\n  const closeHandler = () => {\n    navigate(\"/Book-Store-App/orders\", { replace: true });\n  };\n\n  return (\n    <React.Fragment>\n      <div className=\"backdrop\" onClick={props.onClose} />\n      <div className=\"error-modal\">\n        <h2>You have successfully ordered books!</h2>\n        <p>{props.children}</p>\n        <div className=\"error-modal__actions\">\n          <button type=\"button\" onClick={closeHandler}>\n            Close\n          </button>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n});\n\nexport default OrderSuccessModal;\n","import React from \"react\";\nimport classes from \"./OrderModal.module.css\";\nimport OrderSuccessModal from \"./OrderSuccessModal\";\n\nimport NewCartContext from \"../store/newCart-context\";\nimport { useContext, useState } from \"react\";\n\nconst OrderModal = React.memo((props) => {\n  const [orderSuccess, setOrderSuccess] = useState(false);\n  const prices = [];\n  const random = Number(Math.random().toString().substring(4));\n\n  const newCartCtx = useContext(NewCartContext);\n\n  const cartPrice = newCartCtx.booksInCart.map((book) => {\n    prices.push(book.totalPrice);\n    const totalPrices = prices.reduce((a, b) => a + b, 0);\n    return totalPrices;\n  });\n  const closeOrderSuccessModalHandler = () => {\n    setOrderSuccess(false);\n  };\n\n\n  if (cartPrice.length === 0) {\n    return <OrderSuccessModal onClose={closeOrderSuccessModalHandler} />;\n  }\n\n  const totalCartPrice = cartPrice.pop().toFixed(2);\n\n  const orderHandler = () => {\n    setOrderSuccess(true);\n    const newBook = newCartCtx.booksInCart.map((book) => book);\n\n    const updNewBook = {\n      totalprice: +totalCartPrice,\n      key: random,\n      ...newBook,\n    };\n    fetch(\n      \"https://react-app-81b61-default-rtdb.europe-west1.firebasedatabase.app/cart-orders.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(updNewBook),\n      }\n    ).catch((err) => {\n      console.error(err);\n    });\n\n    newCartCtx.clearCart();\n  };\n\n  if (orderSuccess) {\n    return <OrderSuccessModal onClose={closeOrderSuccessModalHandler} />;\n  }\n\n  return (\n    <React.Fragment>\n      <div className={classes.backdrop} onClick={props.onClose} />\n      <div className={classes[\"error-modal\"]}>\n        <h2 className={classes.title}>Your order is :</h2>\n        {newCartCtx.booksInCart.map((book) => (\n          <div className={classes.book} key={book.id}>\n            <h2>\n              Book: <span>{book.title}</span>\n            </h2>\n            <h2>\n              Pcs: <span>{book.pcs}</span>\n            </h2>\n            <h2>\n              Price: <span>{book.totalPrice}</span>\n            </h2>\n          </div>\n        ))}\n        <div className={classes.total}>\n          <h2>Total Price : {totalCartPrice}</h2>\n        </div>\n        <p>{props.children}</p>\n        <div className={classes.actions}>\n          <button type=\"button\" onClick={orderHandler}>\n            Order\n          </button>\n          <button type=\"button\" onClick={props.onClose}>\n            Close\n          </button>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n});\n\nexport default OrderModal;\n","import { useContext, useState } from \"react\";\nimport NewCartContext from \"../store/newCart-context\";\nimport CartContainer from \"../components/Cart/CartContainer\";\nimport OrderModal from \"../UI/OrderModal\";\nimport classes from \"./Cart.module.css\";\n\nconst AddNewBook = () => {\n  const newCartCtx = useContext(NewCartContext);\n  const [order, setOrder] = useState(false);\n\n  const clearCartHandler = () => {\n    newCartCtx.clearCart();\n  };\n\n  const payCartHandler = () => {\n    setOrder(true);\n  };\n\n  const closeHandler = () => {\n    setOrder(false);\n  };\n\n  const totalCartPrice = newCartCtx.totalPriceOfBooks.toFixed(2);\n\n  \n\n  return (\n    <div className={classes.container}>\n      <div>\n        {newCartCtx.booksInCart.length === 0 ? (\n          <h1 className={classes.noitems}>There is no books in Cart</h1>\n        ) : (\n          <CartContainer cartBook={newCartCtx.booksInCart} />\n        )}\n      </div>\n\n      <div>\n        {newCartCtx.booksInCart.length === 0 ? (\n          \" \"\n        ) : (\n          <h1 className={classes.total}>Total: {totalCartPrice}</h1>\n        )}\n      </div>\n      <div className={classes.order}>\n        {newCartCtx.booksInCart.length === 0 ? (\n          \" \"\n        ) : (\n          <button classes={classes.noitems} onClick={payCartHandler}>\n            Pay the order\n          </button>\n        )}\n      </div>\n      <div className={classes.clear}>\n        {newCartCtx.booksInCart.length !== 0 && (\n          <button onClick={clearCartHandler}>Clear the cart</button>\n        )}\n      </div>\n      {order && <OrderModal onClose={closeHandler} />}\n    </div>\n  );\n};\n\nexport default AddNewBook;\n","import { useContext } from \"react\";\nimport FavoritesContext from \"../store/favorites-context\";\nimport BooksList from \"../components/Books/BooksList\";\nimport { CartContext } from \"../App\";\n\nconst FavoritesBooks = () => {\n  const favoriteCtx = useContext(FavoritesContext);\n  const cartCtx = useContext(CartContext);\n\n  return (\n    <div style={{ backgroundColor: \"#c0e1d6\", minHeight: \"100vh\" }}>\n      {favoriteCtx.totalFavoriteBooks === 0 && (\n        <h1 style={{ color: \"blue\", textAlign: \"center\", padding: \"2rem\" }}>\n          There is no favorites books\n        </h1>\n      )}\n      <BooksList\n        allBooks={\n          cartCtx.cartValue[0]\n            ? cartCtx.cartValue[0]\n            : favoriteCtx.favoriteBooks\n        }\n      />\n    </div>\n  );\n};\nexport default FavoritesBooks;\n","import { useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport AllBooksContext from \"../../store/allBooks-context\";\nimport BookItem from \"./BookItem\";\n\nconst Book = (props) => {\n  const params = useParams();\n  const alllBooksCtx = useContext(AllBooksContext);\n  console.log(\"this is BOOK\", alllBooksCtx.allBooks, alllBooksCtx);\n\n  if (!alllBooksCtx.allBooks) {\n    return (\n      <h1 style={{ textAlign: \"center\", padding: \"2rem\" }}>\n        There are no books\n      </h1>\n    );\n  }\n\n  const bookData = alllBooksCtx.allBooks.find(\n    (book) => book.id === params.bookId\n  );\n\n\n  return (\n    <div style={{ display: \"flex\", padding: \"3rem\", justifyContent: \"center\" }}>\n      <BookItem\n        title={bookData.title}\n        author={bookData.author}\n        price={bookData.price}\n        photo={bookData.photo}\n      \n      />\n    </div>\n  );\n};\nexport default Book;\n","import classes from \"./OrderItem.module.css\";\nconst OrderItem = (props) => {\n  // const random = Number(Math.random().toString().substring(4));\n  // const newOrder = props.book;\n  // const k = props.book.slice(1);\n  // console.log(k);\n  // const price = newOrder.slice(-1);\n  // const fireBaseKey = newOrder.shift();\n  // const x = newOrder.length - 2;\n  // const key = newOrder[x];\n  // const key = props.book.slice(-1);\n  const firebaseKey = props.book[Object.keys(props.book).length - 2];\n  const deletehandler = (firebaseKey) => {\n    props.Onclose(firebaseKey);\n  };\n\n  return (\n    <section className={classes.container}>\n      <h2 className={classes.orderNumber}>Order: {props.book[Object.keys(props.book).length - 2]}</h2>\n      {props.book.map((order) => (\n        <div className={classes.order} key={order.id}>\n          <h2 className={classes.title}>{order.title}</h2>\n          <h2 className={classes.pcs}>{order.pcs}</h2>\n          <h2 className={classes.price}>{order.totalPrice}</h2>\n        </div>\n      ))}\n      <h3 className={classes.totalPrice}>Total: {props.book[Object.keys(props.book).length - 1]}</h3>\n      <div className={classes.delete}>\n        <button onClick={() => deletehandler(firebaseKey)}>\n          Delete order\n        </button>\n      </div>\n    </section>\n  );\n};\n\nexport default OrderItem;\n","import OrderItem from \"./OrderItem\";\n\nconst OrderList = (props) => {\n  if (!props.value) {\n    return <h1>No orders</h1>;\n  }\n  console.log(props.value) \n\n  const deleteOrderHandler = (firebaseKey) => {\n    props.OnDelete(firebaseKey);\n  };\n\n  const getKey = (book) => {\n    return book[Object.keys(book).length - 2];\n  }\n\n  return (\n    <div>\n      <section>\n        <h2\n          style={{\n            color: \"blue\",\n            textAlign: \"center\",\n            padding: \"2rem\",\n            fontSize: \"2rem\",\n          }}\n        >\n          OrderList\n        </h2>\n        {props.value.map((book) => (\n          <OrderItem\n            Onclose={deleteOrderHandler}\n            // title={book.title}\n            // pcs={book.pcs}\n            // price={book.totalPrice}\n            // key={book.id}\n            // totPrice={totPrice}\n            key={getKey(book)}\n            book={book}\n          />\n        ))}\n      </section>\n    </div>\n  );\n};\n\nexport default OrderList;\n","import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport OrderList from \"../components/Orders/OrderList\";\nimport ErrorModal from \"../UI/ErrorModal\";\nimport LoadingIndicator from \"../UI/LoadingIndicator\";\n\nconst Orders = () => {\n  let navigate = useNavigate();\n  const [loadedOrders, setLoadedOrders] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n\n  const getOrders = () => {\n    fetch(\n      \"https://react-app-81b61-default-rtdb.europe-west1.firebasedatabase.app/cart-orders.json\"\n    )\n      .then((response) => response.json())\n      .then((result) => {\n        console.log(result);\n        // console.dir(result)\n        const updResult = Object.values(result);\n        const key = Object.keys(result);\n\n        let ordersWithKeys = [];\n\n        for (const prop in result) {\n          result[prop].key = prop;\n          ordersWithKeys.push(Object.values(result[prop]));\n        }\n        setIsLoading(false);\n\n        setLoadedOrders((prevorders) => {\n          return (prevorders = ordersWithKeys);\n        });\n      })\n      .catch((error) => {\n        setError(\"Something went wrong\");\n      });\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    getOrders();\n  }, []);\n\n  const closeErrorModalHandler = () => {\n    setIsLoading(false);\n    setError(null);\n  };\n\n  const deleteOrderHandler = (firebaseKey, key) => {\n    // console.log(loadedOrders);\n\n    // const test = loadedOrders.filter((order) => order[3] !== key);\n    // console.log(loadedOrders.filter((order) => order[3] !== key));\n    // console.log(test);\n\n    fetch(\n      `https://react-app-81b61-default-rtdb.europe-west1.firebasedatabase.app/cart-orders/${firebaseKey}.json`,\n      {\n        method: \"DELETE\",\n      }\n    ).then(() => {\n      getOrders();\n    });\n\n    /////////////////\n    // fetch(\n    //   \"https://react-app-81b61-default-rtdb.europe-west1.firebasedatabase.app/cart-orders.json\"\n    // )\n    //   .then((response) => response.json())\n    //   .then((result) => {\n    //     // console.log(result);\n    //     const updResult = Object.values(result);\n    //     const key = Object.keys(result);\n    //     // console.log(updResult);\n    //     // console.log(key);\n\n    //     const orders = [];\n    //     for (let i = 0; i < updResult.length; i++) {\n    //       // console.log(updResult[i]);\n    //       const resultsInArray = Object.values(updResult[i]);\n    //       const y = [key[i], ...resultsInArray];\n    //       // console.log(y);\n    //       orders.push(y);\n    //     }\n    //     console.log(orders);\n    //     setOrder(orders);\n    //     // setLoadedOrders((prevorders) => {\n    //     //   return (prevorders = orders);\n    //     // });\n    //   })\n    //   .catch((error) => {\n    //     // setError(\"Something went wrong\");\n    //   });\n    //////////\n  };\n\n  return (\n    <div style={{ backgroundColor: \"#c0e1d6\", minHeight: \"100vh\" }}>\n      <section>\n        {error && (\n          <ErrorModal onClose={closeErrorModalHandler}>{error}</ErrorModal>\n        )}\n        {isLoading && <LoadingIndicator />}\n        <OrderList value={loadedOrders} OnDelete={deleteOrderHandler} />\n      </section>\n    </div>\n  );\n};\n\nexport default Orders;\n","import { createContext, Fragment, useReducer } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Header from \"./UI/Header\";\nimport AllBooks from \"./pages/AllBooks\";\nimport AddNewBook from \"./pages/AddNewBook\";\nimport Cart from \"./pages/Cart\";\nimport FavoritesBooks from \"./pages/FavoritesBooks\";\nimport Book from \"./components/Books/Book\";\nimport { AllBooksContextProvider } from \"./store/allBooks-context\";\nimport { FavoritesContextProvider } from \"./store/favorites-context\";\nimport { CartPricesContextProvider } from \"./store/cartPrices-context\";\nimport { NewCartContextProvider } from \"./store/newCart-context\";\nimport Orders from \"./pages/Orders\";\n\nexport const CartContext = createContext();\nconst inCardState = [];\nconst cardReducer = (state, action) => {\n  switch (action.type) {\n    case \"SET\":\n      return [state, ...action.books];\n    case \"ADD\":\n      return [...state, action.book];\n    case \"CLEAR\":\n      return inCardState;\n    case \"DEL\":\n      return state.filter((book) => book.id !== action.id);\n    default:\n      return state;\n  }\n};\n\nfunction App() {\n  const [cart, dispatchCart] = useReducer(cardReducer, inCardState);\n\n  return (\n    <Fragment>\n      <NewCartContextProvider>\n        <AllBooksContextProvider>\n          <FavoritesContextProvider>\n            <CartContext.Provider\n              value={{\n                cartValue: cart,\n                cartDispatch: dispatchCart,\n              }}\n            >\n              <CartPricesContextProvider>\n                <Header />\n                <Routes>\n                  <Route path=\"/Book-Store-App/\" element={<AllBooks />}></Route>\n                  <Route path=\"/Book-Store-App/favorites\" element={<FavoritesBooks />}></Route>\n                  <Route path=\"/Book-Store-App/cart\" element={<Cart />}></Route>\n                  <Route path=\"/Book-Store-App/add-new-book\" element={<AddNewBook />}></Route>\n                  <Route path=\"/Book-Store-App/orders\" element={<Orders />}></Route>\n                  <Route path=\"/Book-Store-App/books/:bookId\" element={<Book />}></Route>\n                </Routes>\n              </CartPricesContextProvider>\n            </CartContext.Provider>\n          </FavoritesContextProvider>\n        </AllBooksContextProvider>\n      </NewCartContextProvider>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}